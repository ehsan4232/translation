Step 2 - Propose high-level design and get buy-in The design is divided into two flows: feed publishing and news feed building. • Feed publishing: when a user publishes a post, corresponding data is written into cache and database. A post is populated to her friends’ news feed. • Newsfeed building: for simplicity, let us assume the news feed is built by aggregating friends’ posts in reverse chronological order. Newsfeed APIs The news feed APIs are the primary ways for clients to communicate with servers. Those APIs are HTTP based that allow clients to perform actions, which include posting a status, retrieving news feed, adding friends, etc. We discuss two most important APIs: feed publishing API and news feed retrieval API. Feed publishing API To publish a post, a HTTP POST request will be sent to the server. The API is shown below: POST /v1/me/feed Params: • content: content is the text of the post. • auth_token: it is used to authenticate API requests. Newsfeed retrieval API The API to retrieve news feed is shown below: GET /v1/me/feed Params: • auth_token: it is used to authenticate API requests. Feed publishing Figure 11-2 shows the high-level design of the feed publishing flow.